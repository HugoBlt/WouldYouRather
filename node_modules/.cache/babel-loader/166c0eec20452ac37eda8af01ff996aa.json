{"ast":null,"code":"import { getInitialData, saveQuestionAnswer, saveQuestion } from '../utils/api';\nimport { receiveUsers, addResponseUser, saveUserQuestion } from './users';\nimport { receiveQuestions, addResponse, addQuestion } from './questions';\nimport { setAuthedUser } from './autheduser';\nimport { showLoading, hideLoading } from 'react-redux-loading';\nconst AUTHED_ID = 'tylermcginnis'; // TODO Get from HOMESCREEN \n\nexport function handleInitialData() {\n  return dispatch => {\n    dispatch(showLoading());\n    return getInitialData().then(({\n      users,\n      questions\n    }) => {\n      dispatch(receiveUsers(users));\n      dispatch(receiveQuestions(questions));\n      dispatch(setAuthedUser(AUTHED_ID));\n      dispatch(hideLoading());\n    });\n  };\n}\nexport function handleResponse(info) {\n  return dispatch => {\n    dispatch(addResponse(info));\n    dispatch(addResponseUser(info));\n    return saveQuestionAnswer(info).catch(e => {\n      console.warn('Error in addResponse:', e);\n      dispatch(addResponse(info));\n      dispatch(addResponseUser(info));\n      alert('The was an error replying, please try again.');\n    });\n  };\n}\nexport function handleAddQuestion(question) {\n  return dispatch => {\n    dispatch(addQuestion(question));\n    console.log('ici : ', saveUserQuestion(question));\n    dispatch(saveUserQuestion(question));\n    return saveQuestion(question).catch(e => {\n      console.warn('Error in addQuestion:', e);\n      dispatch(addQuestion(question));\n      dispatch(saveUserQuestion(question));\n      alert('The was an error uploading the question, please try again.');\n    });\n  };\n}","map":{"version":3,"sources":["/Users/Hugo/Desktop/React/WouldYouRather/src/actions/shared.js"],"names":["getInitialData","saveQuestionAnswer","saveQuestion","receiveUsers","addResponseUser","saveUserQuestion","receiveQuestions","addResponse","addQuestion","setAuthedUser","showLoading","hideLoading","AUTHED_ID","handleInitialData","dispatch","then","users","questions","handleResponse","info","catch","e","console","warn","alert","handleAddQuestion","question","log"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,kBAAzB,EAA6CC,YAA7C,QAAiE,cAAjE;AACA,SAASC,YAAT,EAAuBC,eAAvB,EAAwCC,gBAAxC,QAAgE,SAAhE;AACA,SAASC,gBAAT,EAA2BC,WAA3B,EAAwCC,WAAxC,QAA2D,aAA3D;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,qBAAzC;AAEA,MAAMC,SAAS,GAAG,eAAlB,C,CACA;;AAEA,OAAO,SAASC,iBAAT,GAA8B;AACnC,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACJ,WAAW,EAAZ,CAAR;AACA,WAAOV,cAAc,GAClBe,IADI,CACC,CAAC;AAACC,MAAAA,KAAD;AAAQC,MAAAA;AAAR,KAAD,KAAwB;AAC5BH,MAAAA,QAAQ,CAACX,YAAY,CAACa,KAAD,CAAb,CAAR;AACAF,MAAAA,QAAQ,CAACR,gBAAgB,CAACW,SAAD,CAAjB,CAAR;AACAH,MAAAA,QAAQ,CAACL,aAAa,CAACG,SAAD,CAAd,CAAR;AACAE,MAAAA,QAAQ,CAACH,WAAW,EAAZ,CAAR;AACD,KANI,CAAP;AAOD,GATD;AAUD;AAED,OAAO,SAASO,cAAT,CAAyBC,IAAzB,EAA+B;AACpC,SAAQL,QAAD,IAAc;AAEnBA,IAAAA,QAAQ,CAACP,WAAW,CAACY,IAAD,CAAZ,CAAR;AACAL,IAAAA,QAAQ,CAACV,eAAe,CAACe,IAAD,CAAhB,CAAR;AAEA,WAAOlB,kBAAkB,CAACkB,IAAD,CAAlB,CACJC,KADI,CACGC,CAAD,IAAO;AACZC,MAAAA,OAAO,CAACC,IAAR,CAAa,uBAAb,EAAsCF,CAAtC;AACAP,MAAAA,QAAQ,CAACP,WAAW,CAACY,IAAD,CAAZ,CAAR;AACAL,MAAAA,QAAQ,CAACV,eAAe,CAACe,IAAD,CAAhB,CAAR;AACAK,MAAAA,KAAK,CAAC,8CAAD,CAAL;AACD,KANI,CAAP;AAOD,GAZD;AAaD;AAGD,OAAO,SAASC,iBAAT,CAA4BC,QAA5B,EAAsC;AAC3C,SAAQZ,QAAD,IAAc;AAEnBA,IAAAA,QAAQ,CAACN,WAAW,CAACkB,QAAD,CAAZ,CAAR;AACAJ,IAAAA,OAAO,CAACK,GAAR,CAAY,QAAZ,EAAqBtB,gBAAgB,CAACqB,QAAD,CAArC;AACAZ,IAAAA,QAAQ,CAACT,gBAAgB,CAACqB,QAAD,CAAjB,CAAR;AAEA,WAAOxB,YAAY,CAACwB,QAAD,CAAZ,CACJN,KADI,CACGC,CAAD,IAAO;AACZC,MAAAA,OAAO,CAACC,IAAR,CAAa,uBAAb,EAAsCF,CAAtC;AACAP,MAAAA,QAAQ,CAACN,WAAW,CAACkB,QAAD,CAAZ,CAAR;AACAZ,MAAAA,QAAQ,CAACT,gBAAgB,CAACqB,QAAD,CAAjB,CAAR;AACAF,MAAAA,KAAK,CAAC,4DAAD,CAAL;AACD,KANI,CAAP;AAOD,GAbD;AAcD","sourcesContent":["import {Â getInitialData, saveQuestionAnswer, saveQuestion } from '../utils/api'\nimport { receiveUsers, addResponseUser, saveUserQuestion } from './users'\nimport { receiveQuestions, addResponse, addQuestion } from './questions'\nimport { setAuthedUser } from './autheduser'\nimport { showLoading, hideLoading } from 'react-redux-loading'\n\nconst AUTHED_ID = 'tylermcginnis'\n// TODO Get from HOMESCREEN \n\nexport function handleInitialData () {\n  return (dispatch) => {\n    dispatch(showLoading())\n    return getInitialData()\n      .then(({users, questions}) => {\n        dispatch(receiveUsers(users))\n        dispatch(receiveQuestions(questions))\n        dispatch(setAuthedUser(AUTHED_ID))\n        dispatch(hideLoading())\n      })\n  }\n}\n\nexport function handleResponse (info) {\n  return (dispatch) => {\n\n    dispatch(addResponse(info))\n    dispatch(addResponseUser(info))\n\n    return saveQuestionAnswer(info)\n      .catch((e) => {\n        console.warn('Error in addResponse:', e)\n        dispatch(addResponse(info))\n        dispatch(addResponseUser(info))\n        alert('The was an error replying, please try again.')\n      })\n  }\n}\n\n\nexport function handleAddQuestion (question) {\n  return (dispatch) => {\n\n    dispatch(addQuestion(question))\n    console.log('ici : ',saveUserQuestion(question))\n    dispatch(saveUserQuestion(question))\n\n    return saveQuestion(question)\n      .catch((e) => {\n        console.warn('Error in addQuestion:', e)\n        dispatch(addQuestion(question))\n        dispatch(saveUserQuestion(question))\n        alert('The was an error uploading the question, please try again.')\n      })\n  }\n}"]},"metadata":{},"sourceType":"module"}